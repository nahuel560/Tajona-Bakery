(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(u){var i=u(document),c=u(window),w=u("body");var d="displayController",h="hasActiveHover",v="forcedOpen",m="hasMouseMove",T="mouseOnToPopup",f="originalTitle",l="powertip",p="powertipjq",g="powertiptarget",b=180/Math.PI;var y={isTipOpen:false,isFixedTipOpen:false,isClosing:false,tipOpenImminent:false,activeHover:null,currentX:0,currentY:0,previousX:0,previousY:0,desyncTimeout:null,mouseTrackingActive:false,delayInProgress:false,windowWidth:0,windowHeight:0,scrollTop:0,scrollLeft:0};var H={none:0,top:1,bottom:2,left:4,right:8};u.fn.powerTip=function(e,t){if(!this.length){return this}if(u.type(e)==="string"&&u.powerTip[e]){return u.powerTip[e].call(this,this,t)}var r=u.extend({},u.fn.powerTip.defaults,e),a=new o(r);n();this.each(function e(){var t=u(this),i=t.data(l),o=t.data(p),n=t.data(g),s;if(t.data(d)){u.powerTip.destroy(t)}s=t.attr("title");if(!i&&!n&&!o&&s){t.data(l,s);t.data(f,s);t.removeAttr("title")}t.data(d,new O(t,r,a))});if(!r.manual){this.on({"mouseenter.powertip":function e(t){u.powerTip.show(this,t)},"mouseleave.powertip":function e(){u.powerTip.hide(this)},"focus.powertip":function e(){u.powerTip.show(this)},"blur.powertip":function e(){u.powerTip.hide(this,true)},"keydown.powertip":function e(t){if(t.keyCode===27){u.powerTip.hide(this,true)}}})}return this};u.fn.powerTip.defaults={fadeInTime:200,fadeOutTime:100,followMouse:false,popupId:"powerTip",intentSensitivity:7,intentPollInterval:100,closeDelay:100,placement:"n",smartPlacement:false,offset:10,mouseOnToPopup:false,manual:false};u.fn.powerTip.smartPlacementLists={n:["n","ne","nw","s"],e:["e","ne","se","w","nw","sw","n","s","e"],s:["s","se","sw","n"],w:["w","nw","sw","e","ne","se","n","s","w"],nw:["nw","w","sw","n","s","se","nw"],ne:["ne","e","se","n","s","sw","ne"],sw:["sw","w","nw","s","n","ne","sw"],se:["se","e","ne","s","n","nw","se"],"nw-alt":["nw-alt","n","ne-alt","sw-alt","s","se-alt","w","e"],"ne-alt":["ne-alt","n","nw-alt","se-alt","s","sw-alt","e","w"],"sw-alt":["sw-alt","s","se-alt","nw-alt","n","ne-alt","w","e"],"se-alt":["se-alt","s","sw-alt","ne-alt","n","nw-alt","e","w"]};u.powerTip={show:function e(t,i){if(i){s(i);y.previousX=i.pageX;y.previousY=i.pageY;u(t).data(d).show()}else{u(t).first().data(d).show(true,true)}return t},reposition:function e(t){u(t).first().data(d).resetPosition();return t},hide:function e(t,i){if(t){u(t).first().data(d).hide(i)}else{if(y.activeHover){y.activeHover.data(d).hide(true)}}return t},destroy:function e(t){u(t).off(".powertip").each(function e(){var t=u(this),i=[f,d,h,v];if(t.data(f)){t.attr("title",t.data(f));i.push(l)}t.removeData(i)});return t}};u.powerTip.showTip=u.powerTip.show;u.powerTip.closeTip=u.powerTip.hide;function k(){var i=this;i.top="auto";i.left="auto";i.right="auto";i.bottom="auto";i.set=function(e,t){if(u.isNumeric(t)){i[e]=Math.round(t)}}}function O(o,n,s){var i=null;function r(e,t){f();if(!o.data(h)){if(!e){y.tipOpenImminent=true;i=setTimeout(function e(){i=null;a()},n.intentPollInterval)}else{if(t){o.data(v,true)}s.showTip(o)}}}function e(e){f();y.tipOpenImminent=false;if(o.data(h)){o.data(v,false);if(!e){y.delayInProgress=true;i=setTimeout(function e(){i=null;s.hideTip(o);y.delayInProgress=false},n.closeDelay)}else{s.hideTip(o)}}}function a(){var e=Math.abs(y.previousX-y.currentX),t=Math.abs(y.previousY-y.currentY),i=e+t;if(i<n.intentSensitivity){s.showTip(o)}else{y.previousX=y.currentX;y.previousY=y.currentY;r()}}function f(){i=clearTimeout(i);y.delayInProgress=false}function t(){s.resetPosition(o)}this.show=r;this.hide=e;this.cancel=f;this.resetPosition=t}function P(){function e(e,t,i,o,n){var s=t.split("-")[0],r=new k,a;if(I(e)){a=l(e,s)}else{a=f(e,s)}switch(t){case"n":r.set("left",a.left-i/2);r.set("bottom",y.windowHeight-a.top+n);break;case"e":r.set("left",a.left+n);r.set("top",a.top-o/2);break;case"s":r.set("left",a.left-i/2);r.set("top",a.top+n);break;case"w":r.set("top",a.top-o/2);r.set("right",y.windowWidth-a.left+n);break;case"nw":r.set("bottom",y.windowHeight-a.top+n);r.set("right",y.windowWidth-a.left-20);break;case"nw-alt":r.set("left",a.left);r.set("bottom",y.windowHeight-a.top+n);break;case"ne":r.set("left",a.left-20);r.set("bottom",y.windowHeight-a.top+n);break;case"ne-alt":r.set("bottom",y.windowHeight-a.top+n);r.set("right",y.windowWidth-a.left);break;case"sw":r.set("top",a.top+n);r.set("right",y.windowWidth-a.left-20);break;case"sw-alt":r.set("left",a.left);r.set("top",a.top+n);break;case"se":r.set("left",a.left-20);r.set("top",a.top+n);break;case"se-alt":r.set("top",a.top+n);r.set("right",y.windowWidth-a.left);break}return r}function f(e,t){var i=e.offset(),o=e.outerWidth(),n=e.outerHeight(),s,r;switch(t){case"n":s=i.left+o/2;r=i.top;break;case"e":s=i.left+o;r=i.top+n/2;break;case"s":s=i.left+o/2;r=i.top+n;break;case"w":s=i.left;r=i.top+n/2;break;case"nw":s=i.left;r=i.top;break;case"ne":s=i.left+o;r=i.top;break;case"sw":s=i.left;r=i.top+n;break;case"se":s=i.left+o;r=i.top+n;break}return{top:r,left:s}}function l(e,t){var i=e.closest("svg")[0],o=e[0],n=i.createSVGPoint(),s=o.getBBox(),r=o.getScreenCTM(),a=s.width/2,f=s.height/2,l=[],p=["nw","n","ne","e","se","s","sw","w"],u,c,w,d;function h(){l.push(n.matrixTransform(r))}n.x=s.x;n.y=s.y;h();n.x+=a;h();n.x+=a;h();n.y+=f;h();n.y+=f;h();n.x-=a;h();n.x-=a;h();n.y-=f;h();if(l[0].y!==l[1].y||l[0].x!==l[7].x){c=Math.atan2(r.b,r.a)*b;w=Math.ceil((c%360-22.5)/45);if(w<1){w+=8}while(w--){p.push(p.shift())}}for(d=0;d<l.length;d++){if(p[d]===t){u=l[d];break}}return{top:u.y+y.scrollTop,left:u.x+y.scrollLeft}}this.compute=e}function o(r){var a=new P,f=u("#"+r.popupId);if(f.length===0){f=u("<div/>",{id:r.popupId});if(w.length===0){w=u("body")}w.append(f)}if(r.followMouse){if(!f.data(m)){i.on("mousemove",n);c.on("scroll",n);f.data(m,true)}}if(r.mouseOnToPopup){f.on({mouseenter:function e(){if(f.data(T)){if(y.activeHover){y.activeHover.data(d).cancel()}}},mouseleave:function e(){if(y.activeHover){y.activeHover.data(d).hide()}}})}function e(i){i.data(h,true);f.queue(function e(t){o(i);t()})}function o(i){var e;if(!i.data(h)){return}if(y.isTipOpen){if(!y.isClosing){t(y.activeHover)}f.delay(100).queue(function e(t){o(i);t()});return}i.trigger("powerTipPreRender");e=X(i);if(e){f.empty().append(e)}else{return}i.trigger("powerTipRender");y.activeHover=i;y.isTipOpen=true;f.data(T,r.mouseOnToPopup);if(!r.followMouse){s(i);y.isFixedTipOpen=true}else{n()}f.fadeIn(r.fadeInTime,function e(){if(!y.desyncTimeout){y.desyncTimeout=setInterval(p,500)}i.trigger("powerTipOpen")})}function t(i){y.isClosing=true;y.activeHover=null;y.isTipOpen=false;y.desyncTimeout=clearInterval(y.desyncTimeout);i.data(h,false);i.data(v,false);f.fadeOut(r.fadeOutTime,function e(){var t=new k;y.isClosing=false;y.isFixedTipOpen=false;f.removeClass();t.set("top",y.currentY+r.offset);t.set("left",y.currentX+r.offset);f.css(t);i.trigger("powerTipClose")})}function n(){if(!y.isFixedTipOpen&&(y.isTipOpen||y.tipOpenImminent&&f.data(m))){var e=f.outerWidth(),t=f.outerHeight(),i=new k,o,n;i.set("top",y.currentY+r.offset);i.set("left",y.currentX+r.offset);o=Y(i,e,t);if(o!==H.none){n=W(o);if(n===1){if(o===H.right){i.set("left",y.windowWidth-e)}else if(o===H.bottom){i.set("top",y.scrollTop+y.windowHeight-t)}}else{i.set("left",y.currentX-e-r.offset);i.set("top",y.currentY-t-r.offset)}}f.css(i)}}function s(o){var e,n;if(r.smartPlacement){e=u.fn.powerTip.smartPlacementLists[r.placement];u.each(e,function(e,t){var i=Y(l(o,t),f.outerWidth(),f.outerHeight());n=t;if(i===H.none){return false}})}else{l(o,r.placement);n=r.placement}f.addClass(n)}function l(e,t){var i=0,o,n,s=new k;s.set("top",0);s.set("left",0);f.css(s);do{o=f.outerWidth();n=f.outerHeight();s=a.compute(e,t,o,n,r.offset);f.css(s)}while(++i<=5&&(o!==f.outerWidth()||n!==f.outerHeight()));return s}function p(){var e=false;if(y.isTipOpen&&!y.isClosing&&!y.delayInProgress){if(y.activeHover.data(h)===false||y.activeHover.is(":disabled")){e=true}else{if(!x(y.activeHover)&&!y.activeHover.is(":focus")&&!y.activeHover.data(v)){if(f.data(T)){if(!x(f)){e=true}}else{e=true}}}if(e){t(y.activeHover)}}}this.showTip=e;this.hideTip=t;this.resetPosition=s}function I(e){return window.SVGElement&&e[0]instanceof SVGElement}function n(){if(!y.mouseTrackingActive){y.mouseTrackingActive=true;u(function e(){y.scrollLeft=c.scrollLeft();y.scrollTop=c.scrollTop();y.windowWidth=c.width();y.windowHeight=c.height()});i.on("mousemove",s);c.on({resize:function e(){y.windowWidth=c.width();y.windowHeight=c.height()},scroll:function e(){var t=c.scrollLeft(),i=c.scrollTop();if(t!==y.scrollLeft){y.currentX+=t-y.scrollLeft;y.scrollLeft=t}if(i!==y.scrollTop){y.currentY+=i-y.scrollTop;y.scrollTop=i}}})}}function s(e){y.currentX=e.pageX;y.currentY=e.pageY}function x(e){var t=e.offset(),i=e[0].getBoundingClientRect(),o=i.right-i.left,n=i.bottom-i.top;return y.currentX>=t.left&&y.currentX<=t.left+o&&y.currentY>=t.top&&y.currentY<=t.top+n}function X(e){var t=e.data(l),i=e.data(p),o=e.data(g),n,s;if(t){if(u.isFunction(t)){t=t.call(e[0])}s=t}else if(i){if(u.isFunction(i)){i=i.call(e[0])}if(i.length>0){s=i.clone(true,true)}}else if(o){n=u("#"+o);if(n.length>0){s=n.html()}}return s}function Y(e,t,i){var o=y.scrollTop,n=y.scrollLeft,s=o+y.windowHeight,r=n+y.windowWidth,a=H.none;if(e.top<o||Math.abs(e.bottom-y.windowHeight)-i<o){a|=H.top}if(e.top+i>s||Math.abs(e.bottom-y.windowHeight)>s){a|=H.bottom}if(e.left<n||e.right+t>r){a|=H.left}if(e.left+t>r||e.right<n){a|=H.right}return a}function W(e){var t=0;while(e){e&=e-1;t++}return t}});